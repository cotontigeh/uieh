---
import Layout from "../../../layouts/Layout.astro";
import DocLayout from "../../../layouts/DocLayout.astro";
import { getEntry, render } from "astro:content";
import { getCollection } from "astro:content";
import type { UiCollectionType } from "../../../../content.config";

export async function getStaticPaths() {
  const uiDocs = (await getCollection("ui")) as unknown as UiCollectionType[];
  return uiDocs.map((doc) => ({ params: { element: doc.slug } }));
}

const { element } = Astro.params;

const entry = await getEntry("ui", element);

if (!entry) {
  throw new Error(`Could not find ${element}`);
}

const { Content } = await render(entry);
---

<Layout>
  <DocLayout>
    <Content />
  </DocLayout>
</Layout>
